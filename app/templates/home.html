{% extends "layout.html" %}
{% block content %}

<h3>ðŸ‘‹ Welcome to the Threat Modeling Tool</h3>
<p>This tool helps you model your system and assess potential security threats layer by layer.</p>

<div class="row mt-4">
  <div class="col-md-6">
    <h5>ðŸ§  Last Analysis Summary</h5>
    <ul>
      <li><strong>High Risk:</strong> 3</li>
      <li><strong>Medium Risk:</strong> 5</li>
      <li><strong>Low Risk:</strong> 2</li>
    </ul>
    <a href="{{ url_for('main.form', layer_name='layer1') }}" class="btn btn-primary mt-3">Get Started</a>

  </div>

  <div class="col-md-6">
    <canvas id="riskChart" width="300" height="300"></canvas>
  </div>
</div>

<!-- Include Chart.js from CDN -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  const ctx = document.getElementById('riskChart').getContext('2d');
  const riskChart = new Chart(ctx, {
    type: 'pie',
    data: {
      labels: ['High', 'Medium', 'Low'],
      datasets: [{
        label: 'Risk Distribution',
        data: [3, 5, 2],
        backgroundColor: ['#dc3545', '#ffc107', '#198754'],
        borderWidth: 1
      }]
    },
    options: {
      responsive: true,
      plugins: {
        legend: {
          position: 'bottom'
        }
      }
    }
  });
</script>

{% endblock %}
